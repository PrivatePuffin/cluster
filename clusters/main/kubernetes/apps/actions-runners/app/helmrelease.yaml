# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:R6bYjvGPadi+8NELc5xRSd7Gc/RG/ohgc1DiJyY74rNQHWFgc6G7ENE=,iv:wLUk82+CFZc0LZ0Ex1czG4snfWDwybsugab6q30/0NI=,tag:eXDUlRCaRmdO1oItXSgfpg==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:M/nwD6G8FQ0=,iv:3gLez05eUpdAL+jUNFAcoh2RHdfH1V6GppED94lt5YQ=,tag:5mwyLQYv2xcanxNhlfPAAg==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:eXrTm833pMn4RtmhTcdT6cjMjGv/019wqTrA/NvwxZ4=,tag:4qJ1EYUlx43trQrRl2//hg==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/tccr/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBIaXhZcVYyVExCNlZZbVBX
            MkRLWWxCU0gwN1A3cmVPMEhnd0NrcEpVRjJBCmp5RkNrbVIwK3oyMWZUVVpOSStS
            M1ZiU1hETGljUUEwZ015WFF2UVIrSm8KLS0tIGZobVhBM1ZQc0dITEZtRGltSm1u
            bFdGUFRpRklsV0ZPeXZzU1EwdEtpRTQKmeEVMXWSdvhH/asQnkmpkfCcc8rAtjiV
            nwbVRbk0nxAblFBw9VNVu6tlo7HWwDqUP+Pp2Qa2+FlEw7iruLqfKQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-26T13:45:14Z"
    mac: ENC[AES256_GCM,data:La4DhuMIcNt9oa1QPk04Ig4taewnYjAelgXQoHC73nKsZmQxZ1E/OM5rLmQQJ3u+nXWlitEZfkms+o+2M/ulBf91+r9rfD4XlNz6SjV6viX95x0u4j3aFoDb4WgvQYxVdR+ir3bbDbAwfjDpA5nxUjHd07tLCAVUabwn302i8ew=,iv:tW6f5omwIw1BSsmfZMZSkbf9oRg1jSEwfcV2Hj7gkys=,tag:Lp7yKeIO51KtWyvUqpm6FQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
