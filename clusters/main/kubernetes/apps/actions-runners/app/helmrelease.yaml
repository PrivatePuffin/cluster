# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: actions-runners
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: actions-runner-controller
    values:
        nameOverride: ENC[AES256_GCM,data:TF1WL3+4QcgY3Yl0qguo,iv:c9X9mMNmjI0WrwYUdJr46cB/3P5sA/3q4oarD0L4EtQ=,tag:Vp/8fotRbTr/6/fjSNHE6w==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:9zaS1gvx4KGqiHerwByw,iv:lu/8VezYv/xPaNoZo7r83bgDOlKEiggcZBjRaGLT4RQ=,tag:4r/3JX7prFUCk+bEhCrZXw==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:MHM1hFwxCNe6cR6bTFcHtkgpZm1HxWVL9xougau1WfurC1cuyWyZolI=,iv:wkgZZVGcTD3K4ebotfpxNsOqB/cRLH/tSuC9SX1n+NE=,tag:8qItYossS97fphsWCxo6ww==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:eTRIJZdFoQs=,iv:h5/xRH8A97aSbPyEijjZk6OhpKSwkeUAYOUui/DJpd0=,tag:f47hxgru/FvPwfn0AKPkWQ==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:C7AWAAfVrrGseBkj4pbvlhlXYiYzXHTIwQEI4Ym4ln0=,tag:th49suvboL01iK6+m0Gd+A==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: actions-runner-controller
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBncTFLTTY3QkI4emRZdE45
            aDNhZ3I3NHlqUXhteHBrbDBhSmtCWUZuaEdJCklwRXU1bmF4TnJhTml6cENqeXdC
            a2txWG4zVTRKZ0wrR0Vwc0FpQ3FDSU0KLS0tIHhBM0lnVXB5blJLZmtuVWpZcnFv
            Ym5KRGRsY3RuUWdiRUNyQ3ZUeEVoR0UK+DAQxsm0N1akdSBQ/okXAEV0dHgBQCj3
            eEcsNW9W6aGYKyExERKOpIkYHQuiCJ+8HALsBPBqC57PHMkz/DeWrw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T18:20:28Z"
    mac: ENC[AES256_GCM,data:ZeVjhfBFsb8EfJ0S/4XuXil1tgUxHIvqc67QqlH8xcLmuRcUFhQUxZUt8AYaqMMGkZMJXDD9cUJIC9fu4OusFLqlFOBaloMfIzswOBVYyHJz3zKSDa/EBruRGdvwR5vumGUFHXR1JGxQU0qjxa3SQj4DQKKrQfA5hWi0lPVcQlg=,iv:KEd1ANTX9P9qE/ELimoT7pubTq8KkKU+Nd/i7ZbqSsY=,tag:X1yKYAWAT5aPf/Iw1EbMpQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
