# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:ktXWjAR1WM4bDFBOqxE9bE+mYtnHyNttbDtVLVm1Lx7y+//CWu4p1Ho=,iv:L3B67sEkgaMV4TtSnwMsabNVXAlfez2ak6vdR0IwhfI=,tag:z1mYsJU+BnInmQnO7uxkVQ==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:lywHsr/Dejc=,iv:w2dAktsGTAYUJ+EDxbq1I8tr5/jID13IwoVxgoAP65A=,tag:q1QmSn7NHxHfAeGLe8NRJA==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:ccdEmfsKqqNQudU8/LkUYgc354Xr09lPOf1RtfHd9t0=,tag:VqRV2d7nC099UZi+J8kqRA==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/tccr/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCMzM5ekNXQ0pubkJGNjIr
            QkVWeWo3Zjlzb1NQaU0yZmFHcFF2QStJS1F3CmQ5R1lZWWZBejZDZkVxRTZSUUk1
            NDhFeEtHYXl4K0pOcitpU3Z3V3l0c2sKLS0tIERKc2p0YktpdkovNjMra3p3c254
            cDVkUmRhM0hHcGV5MWVtSXlyczZCbk0KqprCI0l8jpyuT/ZdIhaiEEbqABg+DGoG
            dmAm+k/GC02yb82UnQNs1TrguLMUbeys3tya+9IcBEnQk5oj9ULsSQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-31T17:25:53Z"
    mac: ENC[AES256_GCM,data:a6yNLLrr3/i2LbEFh32jmrv8yPVG9TNO3UNYWUMFv9IS505AZTPOUhA8H+lJNylSD/P1yiyXKNPAPl4nClVzpZCEp0haxImK0PrK5oH6kh8vHgTc7b39GqS9+bONKGB8tFfmkF1HLHdctEGrXPh1CcQM8+pngO5ZHD5i8mgd23Q=,iv:xg/YnbdL95BJyX5uWU4GOFOozsoW+iUGuYTFmsmKofQ=,tag:mOz3StRn0FVCLVxmUa5PCQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
