# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        nameOverride: ENC[AES256_GCM,data:cqAEbC3uZ113N/bOYkU6,iv:WE3Kj1pdAyqVle8LwoBPqAr/v+TaZoS4F7WJvDAru9Y=,tag:TXnRlC0h6IZAjmXGTobDWQ==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:vw3U9oDupC+tRtSfX5Ax,iv:QRRf1egVXKUKZCHVpMltYxDTOO7sYZQh+sSn9G96TVY=,tag:VQFVr4k9dU2z/nJi1MvA6Q==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:Ty5yQ+018OeeENf2Jf/4umabeA++0mumw6ieKRTHICEdFOAG348XwWA=,iv:8PiwtLLeUaUjwl9Ll6rohWXX2kaHRugT6oJE0/PYZC8=,tag:2nZPv1j+Yp95HRZiEOG6QA==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:3LmP2XB/784=,iv:XhU53NrLT3VTRJabLttt4yZMZRLf1kisnO9UyoUf+qw=,tag:h0MbmlMA6lBLfs/MK2KW5A==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:JxVHUyMd/2avNpEyzW7stRXIJmKTBjL76dTuvJ4IGjU=,tag:IUb4Xq+5p+we6YKCYs0mww==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB5SnlRYTdWNmxqcUwwVGlC
            VFZ2TngxOGVBTyt1Rk80OWM3Sjdva2tza0FjClUxRkhmaEIyTllGc3VDNkI0TnJh
            dWc4TENBR3FhbXBtRFBoZC9laTFXZXMKLS0tIDlsME9SbHR1amtURTBjdlhZb3gv
            bGtoYUIwdWUzZllnbExENk0yQmExTmcKVO77Ayrs+AH+vwSGWrbFiziuK3n1nkne
            zZ1bkeJ62z275zh+dewLUnhwOBarAWuZSlR8Rkug9znhDGK8DgyZVw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T18:34:25Z"
    mac: ENC[AES256_GCM,data:6ahwfPrxRgBf/XT/I9WPZNttEsaUNY0KsKB0rAwurXKTlg2ZA/AMG5UiYE1SAofKhpBaXvDNYb/7nA0FDDaZewIIU7qVytCz17vpvPq1sPpSTsFF/KCyqE5aTtrX7KHk5eRJYWFYvYNV+YgetJ0lK3cWpJLD2lIeTrLZRfywrwY=,iv:d9xUkKPRwMZwtCerMaOahPy2Wgz5zgHFXf1PmwztfSQ=,tag:afqNXscsAILSbOOuqkhpRA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
