# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        nameOverride: ENC[AES256_GCM,data:30QtvwgQ/Ex82m7VG6bB,iv:8gWtfZMdL7MDHwUv+4m1dwYcsJCOYmrW6/C3QDY+Ahs=,tag:pVx2K7ULBiZlOrybm6oVjQ==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:9RNWOTxwDruc+qzK40KI,iv:oz8Uoj4SleDuUSkEcmuGP6fUkzy7kGyoLDfEjA30h0k=,tag:idrsFIvBmF5jyGnSC7UWMg==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:9l2vL2dFGn7tNuw+T0K+s1k3kNAMkn+yAY0tsTsAFk26rp+oAAP54Qk=,iv:dssf1n1vxwAbntIJkkwQgvet6WFMZnDwrsSAOaI5od0=,tag:gBEpMaaZkLLgOiABNMdgyw==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:ctsgQ8RZviI=,iv:e9Up6SIKDr/ACkDWyK/68V3pXJzlG6c8amPp2WQZzH8=,tag:3Smr/wTMps8qexgt7mJ2OQ==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:0ftyxlj7/A3GTTeZMGDqX2oAAOBLB5Er/Uqo2q7NI5o=,tag:q8PLYY04DKyoSEQyLs8O1Q==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runners
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/truecharts/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA5ZmJMeW5BY3E0QngyaVRN
            bnVMQVIreDVsSzJhNlVhN2NrRHZaRUJ6VW5ZCm9SdGtBREw3VklhQnR6MmpnSFVs
            dEZEVnFndlV4dURpdkdFdzRnS0NvMzAKLS0tIDhVMkFtVll5Zk8wREljdUQ2ZFBp
            dGhxcitZTGd4ZmJ6TUgrWTM2MVFSdHMKL4Vlwt1Jpf4JxWGC55E6o1MHOHPoDvS/
            RIOYm7DAQVtjE+5fVV3YGBzt5iD9iX70AltgE5LPE9tY1RavEErM9w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T19:42:06Z"
    mac: ENC[AES256_GCM,data:qGew2p59QCMZNuXVV4sXOQLBKbuePIXdE/yGGTPH0iqrL3dG3ibFNFmfd+EfWgzAAtFuXiTRdJoF1fmhGaCuni8okM0MosTF7LZFzetY3aJ0IvSqBZRx1+XHEPSLqqcumqmyBrwJexp6yOnvNj2Mf61pMX8IDuwxsReWMD42Caw=,iv:wGq2bmre7uhoER7Yqx0jPJUIhke/0Qz/ASLBUAU3Nw8=,tag:eD3hhRtsNI0+vZhzKaCozA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
