# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: actions-runners
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: actions-runner-controller
    values:
        nameOverride: ENC[AES256_GCM,data:rVNZ5kZ0/LGntlF7if4B,iv:X8VMg6U0/OPNuVJZk46eQJ2SZWs+PqYC2zyegbHtXOY=,tag:bSk7acDDD8QKQzH2hmFtDA==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:IryYu1eeyjBgYQ+2nuIF,iv:++/vPNh98YgM0WDFIxLvhYr8H+wlkq9yBowehlSDNvg=,tag:8loPvGR/L7MMv873sj6HKg==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:ChacD7llDdMDhhbc4zSU8oGU2UVcRv8gbHr8unQrT4Wgagv+aC7Esbs=,iv:nw2Ny8i2/CFnjo1Ooi8HkYBlLBVgCf1n+fZmJS/mW6g=,tag:XPRJGNdSYhP4oQcAP5XL+w==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:HL9ooL5AQ0o=,iv:wzIKSCFXKuXEfmh8lR2AZ5sjuclC/VADLp16W63qXJo=,tag:KJuL6Y/Ce0bPwknpNWjaMA==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:joMgfgdMsaHWjpAR19ZtC3PZChyK+mv0ylWAMnp/z6Q=,tag:sCVe4WSC0NSfTNURmPOX9g==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: actions-runner-controller
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSRUlxR2hka0FJZnNwSWhV
            Q1E1Z01BTDFlYW4yYThjWUx5Tis2eTB3R1QwCmRNVzRTM1dTTHhHVC9JazRjUlRu
            aXFTWGk0ek1ZQVBQeVUzWkI1U2pteU0KLS0tIDQxMW9qeUltSlptRGNHekVFYzYr
            UkpGQjgrbkZ0TTV4L25Iek9JbnhhQTQK/MnMmK5E1qiM0A+5EVpdYBN0pCNbPxTj
            e4wjOzmWgnHr/SYCKYzCiFTfekePpmdia7o7Y968tRiugsJkbvi35A==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T17:59:59Z"
    mac: ENC[AES256_GCM,data:wxrTw5XiFWRsPEcOYOnbxv1WOCdTHFVjX2oR3KmxZY4A8KZwSexwMAi54ipO4gDZulWSef6WLugFEKx9if5GM43Px1OqKsnbjfHxHyIVC7gQoCtmjsySfXe7kb/4MRDwxLtXj0j4kh/WpUe40yIet5iYcGSqEhR/c6gDq9xRRRA=,iv:iwKTQ7Dsr3T2vqFvr7rdFxKU8pCvdqcRBX+zmYtw0h8=,tag:PDHU3RcYGR5ZzP7wH9fZiw==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
