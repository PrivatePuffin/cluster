# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: actions-runners
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: actions-runner-controller
    values:
        nameOverride: ENC[AES256_GCM,data:Qpi9w9o5VWQ4PzuKsfxo,iv:PHcqA2BcZHlHtjexim7c0Av/XuRBvD8irEYZNyBlK4s=,tag:kmcvFgwnuSO/dAM11zPpbw==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:E4U7i90riEUmSU7Bk/Si,iv:qe7lcW+OQkH4nU2YQYnSK90PwwC0//7NDuQGWnsVUhE=,tag:zK2qm3X9biH8aveeJbZBDQ==,type:str]
        minRunners: 6
        maxRunners: 24
        containerMode:
            type: dind
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:JNx1qpb5Yb4ZhwIqaKl6IywD/AOx/hzAONdrmldA+dtaLd95dH1Eybw=,iv:z6OM3PukgGyiBo/C9pL2z7QqF0XVN+xgU7XgJHIUoYM=,tag:FYxVBEz7pv+vizsClspMQQ==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:s/fdQS2TDvY=,iv:vtYmcnP7C8Y4HsAe8theAj2jW5ylUHj4t+loIopqvlo=,tag:s8EFow1w+qnzxaFmknWBtg==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:y2Ed9+44VKMH2rJh4JYihsxylpL4e45+uBcmnshAo+Q=,tag:cA90nNRvCiNsPfak6kjz7Q==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: actions-runner-controller
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBiMWR3ZkpSWVJtMGNIUzlu
            b1RCSHVRWXl0NHVDbnVKNG5hUXdwQ1I4NEhNCkdjTFU4d0FZV3Z4NCt4eVJXZnZE
            S2tlMERTbWQ4UVRtamc0MjUrSVY1aVEKLS0tIERRa04zbXcyN0hyazVySTRnMFdO
            MXJMVXNEcW10R0g3Z3NXb2hEMWxpUU0KQkWipUlWcSFgs0W+/BaWa/nRC+8w3a7P
            Xuejm3+3LRM9AN1+dSK1wK6MEuBRBT7E6FaYkpJVyndBvrRL5t/8Tw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-19T13:33:03Z"
    mac: ENC[AES256_GCM,data:wEUCG6HsZu2hmGt63L6ftMlPm0FNVsGfHuaNEeC8Nr9hS/XbIbyeEHTFQGNjHdvl6FmLpBgSKOn1gd3sA6B/0SfhZ5PhdOIPOtuL0zv79IHMHGT5tEno1L0MzNHkZQBgC7HHJ+f+vZGYAeNrZV/3Oe0mh0NjaLEcGj7cyjrOLa0=,iv:9G1p2wiuvCkGXbQ1Ri/labezeDMJMhEQMja3ZWHA2qc=,tag:r8LMXwCuW6X9x3XGTf0BeA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.1
