# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:ifrxDQv19IjtJ3aXyjSWXKqC1rvhWVQWgzuFpZtel6RU3+NvHiHj8io=,iv:wVF75hnx1R5T5BkQD6PvxEVaoZb2dQ4wQ0XeCmru8yA=,tag:wyECxtt/5Lj2SK5QmFtA1g==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:rDQ9+Gjru+k=,iv:k90zGvqflRnLqpgmOYQ794d4sruDq+HKumGFoQfcgAE=,tag:cW/SkTXDsn1iN7+lxZ3OTQ==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:Rz7BdPJTuvah9PGc/9/C1yMoM4GyylyfmswiTe1fNMw=,tag:xavQP886I+Ry7Be6TuKqGQ==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/tccr/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCdUhaVEZYT1k0c1FCbktI
            U2pkRnJ4ajQzdXZYRjFNeEl6VnNXV0laVERFCnB3eFFFVHFPOWNCcGsyN1JiYnlj
            SUhOK3dKV0ZKbks5Zk8xeC9zMEludHcKLS0tIE1ENXZ4aFd0aWRZZEI4YnFBUGFV
            WTVVTVYyK1c2T052czVBZ2RQN0kvL3MKUK0r2d6wdSnUZOXDr2mvEvdFI9GCXPN+
            FIMwEIIb4Ipu6xRTY5AOuEMjQdYFFDkZSAFZDX2k8bvCH6K1xHv8jQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-02-07T11:13:57Z"
    mac: ENC[AES256_GCM,data:02T8syh3Ou1rAM4OUnOtfMDDRvKvNfimhbPvpWAnL53syJWkEQM0BIzLKMDLky14v8KY3PZgreg0RbJG3Xv40Uiqmt7PVAMpUnnvS2UTm4F7BIEAGv7xynPTnvNoWH0w7vNZM/Pc44TnLGNihaGGh6Q9KVl+VkvBJ8mlZjFTTa8=,iv:fhV/izcJ71Opi8Vb8JYXSsO8e7FlyA407f4HrXtq0SY=,tag:RCHWh4VDU1LDnC2L8/VJBw==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
