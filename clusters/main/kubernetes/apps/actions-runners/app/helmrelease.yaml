# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: actions-runners
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: actions-runner-controller
    values:
        nameOverride: ENC[AES256_GCM,data:GEAmnKHUhUWkYyLxA6aU,iv:nUSE1wTUVHjpzvX0d3EG8V0G85+HBmNaZECpRP2+PEI=,tag:wg7dSkn7cL+rZIhqisethw==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:w4ok0eUlXkby2jeK0ver,iv:rVz8VuFPTxEK0Ov9iKYQET2PIreDb84zq/ugQipHvps=,tag:30/gpQvyKSxpapkskdRxGg==,type:str]
        minRunners: 3
        maxRunners: 12
        containerMode:
            type: dind
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:kHv/INvvVLDjSQLoVWm0pNm1ft2Wz5sI7vCAednyaKtzRw1gadeeL4g=,iv:uFrLXtT8z0SvFv3HuWfyZSpSSMCGCtjFRfkeADL32To=,tag:ads2pkcnNefGizkEXP38Eg==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:zeW3oLjRBvo=,iv:CZyqRniK1a+hyk33U+ywBXOXHKJfzwtTdcfpz+mI4H8=,tag:TRlHTyB6b0LdtA168cS6pw==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:Oj5tG6e1yNpfFHGnDLEGaZ+96rf24DRdhEqDgO2hX70=,tag:GWZi1kW9E9Cb6LJ2jH9iUQ==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: actions-runner-controller
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUc1pBcUVYWWNpSWtsTjFS
            VHNMK3dQRUpyUTd2TEl3c1NtWHdkTVRZclRvCkFFd2VOaVNCNlZOVmtGSm0xbCs3
            bDIrMFpnRm1VNmVvYlRIYVdUWEpZY0EKLS0tIFFhQVEwWnZseVRBK3pQbzFRaUtW
            RVluVE81Mk9KN2lCYmloM01JT3UvclkK1zYY4SXDehkx7tpnFPFXHNqCnXq4SnTZ
            lzRzpaJz06frXBvi/bPbPL0zXN+RwIwWJ8Sb/svZNLpCLk/eS6s8WA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-19T12:29:03Z"
    mac: ENC[AES256_GCM,data:BXOv/ngrUbu3Lmki/z8xY+xv46DUGILP0zgHGnyP9RfeLrkceDHEqzEWKiXCc9S8vF6m4E5UaBvO7OU02yL3n1UDqeU3Z65SWVR7iaYzNa2+4nYrHF2BWKI2KZlGzFQksXo9VJvc5SO+vFbaAnqsBTKHZUchyeRGNqczSvw4nY8=,iv:XBfBgYJhUFIEs7DIkamKYLM174Zg16xEZO5JKWvyRC0=,tag:5GOYIspy6qpcNYgECWaSuA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.1
