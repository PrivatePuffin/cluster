# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        nameOverride: ENC[AES256_GCM,data:4AJE+cTfVe56w0C4DAEC,iv:274QqyM8+JGyM/1F8AnrorhLE2rfpwe/hdls278iC1Y=,tag:v8KNCZCxIxQuRnPScGPOag==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:fJGKD4smAH7tIAT4QFlE,iv:CgvMLjWNDtJDzqROLjtPpgK8xgpDe+g41DHGs1H48dI=,tag:XYOe+sxyK0ReSoxz3JZqcA==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:tCycFDn+T0sC6SiicOQqxGsx4bdO7+PT42I+/yuN17NynmG+61aJCNo=,iv:VMls7chsG03TqvX5bRtIYIjyc5CReb0ZFqbD06smGgA=,tag:S7k16mK2M5WpT1f7Dzm0AA==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:AsJt1u7D4+4=,iv:ftYVy5B3SjcW3FhH8gy8lvLZdBcVkXOPpkZMVIYBh8Y=,tag:m/L6r5fwRMQUdLxStp1YwQ==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:r9DIckfmWDbr74YHx2dC4Hp/T+rB6qctNJBHYNyR8uw=,tag:aSpHPSYMoeRqm6d/MDSIhg==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runners
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/truecharts/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBoY2g1TVNLbkdIV0tXVDVZ
            SDFIdHdyeGh2VzhPamxBalExSExRSTBwVnlzCnZ6QWNWbzFxd1FwZG5wazhpUXdM
            TnVxbUN2WEI1MXlCSmt2QXQ5eGNkS0EKLS0tIHlmb05UK0syRmN0SnNLRHZ6bWxj
            S3M2ancxVXd0NldBbGhrcVc3RDFtc3cK1Rxb18AhhgfDkxl3LL/21TzrpNCdK/W/
            A2vj1MB4dxiGkM8w8DnM1YPbHYQjfjq9HxZlu21w4t6Bj7dyEkfWMQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T19:45:37Z"
    mac: ENC[AES256_GCM,data:rxUoZ5YsnzY2eP6YFhgZLf0TEUCWfPdJuyak4T+N07VOGRA7kiBuwoZ+5PLB5hnAS6uBon2+VDjt1hpEd4N9W9Hc2s8CESzWnDyzoRrKBUGyiHImPB/NvA1I5CvrXmanbSM25AxLh2KWUf6Qz0/QP/BCq72UCvY//+yA7wQPeqs=,iv:OchGeoI4YP5ZwIo2zsWTqjz2TsF2send+Mevq7xJLh0=,tag:2+1kdUBAYa9bT0guJMYhSQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
