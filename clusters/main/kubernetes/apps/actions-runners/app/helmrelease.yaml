# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: gha
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.9.3
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: gha
    values:
        nameOverride: ENC[AES256_GCM,data:IgCUQAWZwdhuDj6AK9+d,iv:fM7Ke1vfWZtRb1maUwhl5MGUiiR2en/RO+rpesl8D+o=,tag:R7qwoDYyldr6TXv44k2xxw==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:k+omeXJy2s9erVR7qL1B,iv:8feGtANE5rWIa+2eKBR++HsMIhTN7DCiT6T5wPGjL0k=,tag:nGRvGhvCTn9PAU/sWdF8zw==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:6uE1IHUWsGDY3/G4l78Qsr8Vw7FrLpk5qg/svlrevk8FGaXO5ifMJ6o=,iv:Z15rBYxSWwZwY1w4RCyX3L7v61bnZYA0IC6NM18U9HQ=,tag:1VxVixsOchAkG2nzsUiHVg==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:lnhdYZq3XR0=,iv:BT2yojXpzfl/ln6jfB1HQimZXCc36qrgB9t5vkE/+LY=,tag:QS68zABSlyjXcCIP1aVmkA==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:zNgmGYQ4z8XWC1cSen0B1MXKL8887A64ugj2+We0CRM=,tag:TcxlBkH9nArLvF8rshFvUw==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: gha
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: tccr.io/truecharts/charts-ci:latest
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUV01XbWJDT0pocUdSclJU
            bm1jbkJpTGlTb3loejlDZjFGZEtidWpIN1dRCmF4YjJMMzFlR3lob0hHMnRNMGdU
            YnF1ZEpZR0VFRzQ4L243ek9QaTdZZVEKLS0tIHhtb25HZGFWdGIxMlFiMU0zMHhG
            SnEyeks1TCszVjJZUFlVK2hKWkR4NlUKYQI3QlQMMIvYJfog5jZBsiFVpSm1vvVA
            u7Bw1PBTMvYAspgvCqQHiyyH4VUo4No7C03RpcZMpKpYKHN8MlTQRw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T19:35:06Z"
    mac: ENC[AES256_GCM,data:scADftWNzcCK+efbv5kj7WFUrZ4mW4djWZaxz07pqG4p7P1HgmRLt7Lcc/aQTqwJMQsxUTXmn49axI3F4LWuDni3LdzdQ8bTQYvvEXbQQ3IBfqEsXMOw/psxcx8W7STlicuHNulvwN876ypTkx25gGKZSTcdZohV5N7wr0yRlKw=,iv:gQExNQlqk3GMXuGp8+sbKP4ES+AfgKyd8Znx9BL5lh0=,tag:VGUjgi9HE/caMblJqvf0xQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
