# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/helm.toolkit.fluxcd.io/helmrelease_v2.json
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: actions-runners
    namespace: actions-runners
spec:
    interval: 30m
    chart:
        spec:
            chart: gha-runner-scale-set
            version: 0.10.1
            sourceRef:
                kind: HelmRepository
                name: actions-runner-controller
                namespace: flux-system
    install:
        remediation:
            retries: 3
    upgrade:
        remediation:
            strategy: rollback
            retries: 3
    dependsOn:
        - name: actions-runner-controller
          namespace: actions-runner-controller
    values:
        nameOverride: ENC[AES256_GCM,data:XXHYNyM5ZibsR+H1KfN4,iv:HCcn4Um0HUFQpIJ6pg1P2v+M0e6e5zPwsrofiQsNVXU=,tag:vvpcFcSdymwKppJXBobrXA==,type:str]
        runnerScaleSetName: ENC[AES256_GCM,data:8uUuymorv3Ubx/F7vhBf,iv:3AxdzBwVbzKFulRMmdmeueuBIlsAXihPbUaCrzgFsxs=,tag:mi7olsiiMFnwvzlN3quu5Q==,type:str]
        minRunners: 6
        maxRunners: 24
        githubConfigSecret:
            github_app_id: ENC[AES256_GCM,data:dVuDkFGRh2Z5Pp0p+6FfUy0UbiKBdNtnw/MDXN7lYQapkpg52uZ54wo=,iv:9gMjY3Av4VBiE5yjd3OUEQR7blKuaLDOID3zoOPrBxg=,tag:uondt6ZrhTbkjAq5Hnchsw==,type:str]
            github_app_installation_id: ENC[AES256_GCM,data:XPeq96oRaqE=,iv:R7KW+9eD0N8GJPyUOwCekcPQamdNn0sdRc9oTrWOBVE=,tag:Hf2CjOva9v2BkNmjz56bGA==,type:str]
            github_app_private_key: ENC[AES256_GCM,data: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,iv:/pXJiGNlcUHNvBHQHGWuLjIr6npo+a225JjiwwqbGAE=,tag:aFGxfawXcL9pn4wsQgxK6g==,type:str]
        githubConfigUrl: https://github.com/truecharts
        controllerServiceAccount:
            name: actions-runner-controller
            namespace: actions-runner-controller
        containerMode:
            type: kubernetes
            kubernetesModeWorkVolumeClaim:
                accessModes:
                    - ReadWriteOnce
                storageClassName: openebs-hostpath
                resources:
                    requests:
                        storage: 32Gi
        template:
            spec:
                containers:
                    - name: runner
                      image: ghcr.io/truecharts/charts-ci:latest@sha256:7541472ba15b8488c54651ef028cbfc286d9a0c72fc066500ae2c6cef60ba84b
                      command:
                        - /home/runner/run.sh
                      env:
                        - name: ACTIONS_RUNNER_REQUIRE_JOB_CONTAINER
                          value: "false"
sops:
    shamir_threshold: 3
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1uzy27yg04slm0t4naapemy207fd7uh4lda70dxnh932e5dd8n55skgcdrq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB4VDV0TGsrUTlhU2NEWUF5
            amxXbzZpMjU5dkViU3paNGhpUlVmb3djZEZRCjhMamFtOHVYWUhuNW9jaTRzUzhD
            K1hPVDlmRWlEc3IwbVp1TFhRTHpUVWcKLS0tIG1SMjdHRWRrWStZY3d5WnZ4WFNN
            eVNkanlKQnR0VGhid1FwT0cxMndEZU0K2TN3TQZPOXyVw7VfvCJqfS3fkurCavg2
            qLVk/XdfIUZXdCpZhq0WdbEnom0rqCYaE8xM9d5iY1fRJEC9QIf01w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-23T17:51:29Z"
    mac: ENC[AES256_GCM,data:IfJ0jyW136f6Go1lLQ1F4n0R815ZviiwTWfEt8CIPM+6lUk60KoXh+jFa9ijGhjw1pjxX6Wf1mrk9iQe8UUIinGh5e4z+nziTvPzPrPztOPRjxku+iob33xC8xeSzykqY98cbf2srRKJ0zS12bwmGXaC/2AZ6RFVhb+kzf1Jipo=,iv:iuoBaB5vKo0oWZxjDj8jwafCv3z8hh2ozmy0GjTIKcY=,tag:qrAkmnTeuaIT3c51Nm4Iyg==,type:str]
    pgp: []
    encrypted_regex: ((?i)(displayname|email|pass|ca|id|bootstraptoken|secretboxencryptionsecret|secrets|secrets|password|cert|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.9.2
